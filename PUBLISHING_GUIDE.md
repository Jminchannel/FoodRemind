# 将 FoodRemind 应用发布到 Google Play：详细指南

本文档为如何准备 FoodRemind 安卓应用并将其发布到 Google Play 商店提供了全面、详细的步骤指南。

---

## 前提条件

在开始发布流程之前，请确保您已准备好以下内容：

1.  **Google Play 开发者帐户**：您需要一个有效的 Google Play 开发者帐户。这需要一次性支付 25 美元的注册费。您可以在[此处](https://play.google.com/apps/publish/signup/)注册。
2.  **一个完整的应用**：应用应经过全面测试，并准备好发布。
3.  **高分辨率的应用图标**：一个 512x512 像素、带透明度的 PNG 文件。这是将显示在 Google Play 商店和用户设备上的图标。您之前提供的 `icon.png` 文件应调整为此尺寸。
4.  **功能图**：一个 1024x500 像素的 JPG 或 24 位 PNG（不含 alpha 通道）文件。此图形将显示在您的商店列表的顶部。
5.  **屏幕截图**：至少需要两张应用的屏幕截图。它们应为 JPG 或 24 位 PNG 格式（不含 alpha 通道）。最好同时提供手机和平板电脑的屏幕截图。

---

## 第 1 步：准备待发布的应用

首先，我们需要生成一个可供发布的版本。这包括创建一个数字签名并构建一个已签名的 Android App Bundle (AAB)。

### 1.1. 最终代码和配置检查

-   **应用 ID**：确保您的 `app/build.gradle.kts` 文件中的 `applicationId` 是正确的（`com.jmin.foodremind`）。这是您应用在 Google Play 上的唯一标识符，发布后将无法更改。
-   **版本控制**：
    -   `versionCode`：一个表示应用版本的整数。从 `1` 开始。每次发布新版本时都必须增加此数字。
    -   `versionName`：一个向用户显示的字符串（例如，“1.0”）。

    更新您的 `app/build.gradle.kts` 文件：
    ```kotlin
    // 在 app/build.gradle.kts 中
    android {
        // ...
        defaultConfig {
            // ...
            versionCode 1
            versionName "1.0"
        }
        // ...
    }
    ```

### 1.2. 生成已签名的 App Bundle (AAB)

现在，您将创建一个私有签名密钥。此密钥是您作为开发者的数字身份。**备份并妥善保管此密钥至关重要。如果丢失，您将永远无法更新您的应用。**

1.  在 Android Studio 中，转到 **Build > Generate Signed Bundle / APK...**。
2.  选择 **Android App Bundle** 并点击 **Next**。
3.  在“Key store path”部分，点击 **Create new...**。
4.  填写“New Key Store”表单：
    -   **Key store path**：在您的计算机上选择一个位置来保存密钥库文件。一个好的选择是项目目录之外的安全位置。将文件命名为 `foodremind-keystore.jks` 之类的名称。
    -   **Password**：为密钥库创建一个强密码。**请将其写下来并保存在安全的地方。**
    -   **Key Alias**：为您的密钥指定一个名称，例如 `foodremind_release_key`。
    -   **Password**：为密钥本身创建一个强密码。它可以与密钥库密码相同。**也请将其写下来。**
    -   **Validity (years)**：设置为 25 年或更长时间。
    -   **Certificate**：至少填写其中一个字段（例如，您的姓名或组织名称）。
5.  点击 **OK**。您将返回“Generate Signed Bundle or APK”对话框，并且字段将被预先填写。
6.  点击 **Next**。
7.  选择构建变体 **release**。
8.  点击 **Finish**。

Android Studio 现在将构建您的应用。完成后，您将在 `app/release/app-release.aab` 找到已签名的 App Bundle 文件。这就是您需要上传到 Google 的文件。

**重要提示：立即备份您的 `.jks` 密钥库文件及其密码文件。将它们存储在多个安全的位置（例如，密码管理器、加密的外部驱动器）。**

---

## 第 2 步：在 Google Play Console 上设置应用

现在，我们在 Play Console 上创建应用列表。

1.  前往 [Google Play Console](https://play.google.com/apps/publish/) 并登录。
2.  点击 **创建应用** 按钮。
3.  填写初始详细信息：
    -   **应用名称**：FoodRemind
    -   **默认语言**：选择您应用的主要语言。
    -   **应用或游戏**：选择“应用”。
    -   **免费或付费**：选择“免费”。
4.  确认声明并点击 **创建应用**。

您将被重定向到应用的仪表板。按照指导完成初始设置。

### 2.1. 设置您的商店列表

导航到 **拓展 > 商店发布 > 主要商品详情**。

-   **应用详细信息**：填写简短说明（最多 80 个字符）和完整说明（最多 4000 个字符）。
-   **图形**：
    -   上传您的 512x512 像素的 **应用图标**。
    -   上传您的 1024x500 像素的 **功能图**。
    -   上传您的 **手机屏幕截图**。
    -   （可选但推荐）上传 **7 英寸平板电脑屏幕截图** 和 **10 英寸平板电脑屏幕截图**。

### 2.2. 完成应用内容部分

导航到 **政策和计划 > 应用内容**。您必须在此处完成所有部分才能发布。

-   **隐私政策**：您的应用需要一个隐私政策。由于应用将所有数据存储在本地，您可以创建一个简单的政策。您可以使用免费的在线隐私政策生成器，并将其托管在 GitHub Pages 等网站上。政策应说明应用不收集或与第三方共享任何个人数据，并且所有数据都存储在用户的设备上。获得 URL 后，在此处设置。
-   **广告**：回答 **否**，您的应用不包含广告。
-   **应用访问权限**：选择 **所有功能均无需特殊访问权限即可使用**。
-   **内容分级**：点击“开始问卷调查”并如实回答问题。该应用不包含任何成人内容，因此这应该很简单。
-   **目标受众和内容**：选择您应用的目标年龄段（例如，18 岁及以上）。
-   **数据安全**：这是一个关键部分。
    1.  点击“下一步”。
    2.  当被问及“您的应用是否收集或共享任何必需的用户数据类型？”时，回答 **是**。
    3.  当被问及“您的应用收集的所有用户数据在传输过程中是否都经过加密？”时，回答 **是**（即使我们不使用网络，这也是更安全的答案）。
    4.  您无需提供用户请求删除数据的方式，因为所有数据都存储在本地设备上，可以通过卸载应用或清除应用数据来清除。
    5.  在“数据类型”下，选择 **个人信息** 并勾选 **姓名**（这对应于用户的昵称）。
    6.  对于“姓名”数据类型，您将被要求提供详细信息：
        -   **数据收集和共享**：点击“开始”。
        -   **此数据是否与任何第三方共享？**：否。
        -   **此数据是收集的还是共享的？**：收集的。
        -   **此数据是否以临时方式处理？**：否。
        -   **数据收集是必需的，还是用户可以选择提供？**：用户可以选择。
        -   **为什么要收集此用户数据？**：勾选 **应用功能**。
    7.  保存您的更改并提交数据安全表单。

---

## 第 3 步：上传 App Bundle 并发布

这是最后一步。

1.  在左侧菜单中，转到 **发布 > 正式版**。
2.  点击 **创建新版本**。
3.  在“App bundle”部分，上传您在第 1 步中生成的 `app-release.aab` 文件。
4.  Google 将处理该文件。完成后，将自动生成一个版本名称（您可以根据需要更改）。
5.  在 **版本说明** 部分，为此版本添加描述。对于首次发布，“初始版本”即可。
6.  点击 **保存**，然后点击 **检查版本**。
7.  下一页将显示摘要。如果存在任何错误或主要警告，您必须解决它们。
8.  如果一切正常，点击 **开始发布到正式版**。

---

## 第 4 步：发布后

恭喜！您已提交应用以供审核。

-   **审核流程**：您的应用现在将由 Google 审核。这可能需要几个小时到几天的时间。您可以在应用的仪表板上监控状态。
-   **应用状态**：一旦获得批准，状态将变为“已发布”，并将在全球 Google Play 商店上架。

您已成功发布您的应用！ 